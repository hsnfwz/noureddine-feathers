---
// utils
import { getProductById } from '@/src/utils/api';

// layouts
import Layout from '@/src/layouts/Layout.astro';

// components
import Nav from '@/src/components/Nav.svelte';
import Footer from '@/src/components/Footer.svelte';
import ProductDetails from '@/src/components/ProductDetails.svelte';

// types
import type ProductType from '@/src/types/ProductType';
import type NavPropsType from '@/src/types/props/NavPropsType';

const navProps: NavPropsType = {
  pathname: Astro.url.pathname,
}

const id = Astro.params.id as string;
const featherDuster: ProductType | undefined = await getProductById(id);
---

<Layout title="Feather Dusters | Noureddine Feathers">
  <Nav {...navProps} client:load />
  <div class="mx-8">
    <div class="flex flex-col gap-8">
      <ProductDetails product={featherDuster} client:load />
    </div>
  </div>
  <Footer />
</Layout>