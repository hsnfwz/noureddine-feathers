---
// utils
import { getProductById } from 'utils/api';

// layouts
import Layout from 'layouts/Layout.astro';

// components
import Nav from 'components/Nav.svelte';
import Footer from 'components/Footer.svelte';
import ProductDetails from 'components/ProductDetails.svelte';

// types
import type ProductType from 'types/ProductType';
import type NavPropsType from 'types/props/NavPropsType';

const navProps: NavPropsType = {
  pathname: Astro.url.pathname,
}

const id = Astro.params.id as string;
const featherDuster: ProductType | undefined = await getProductById(id);
---

<Layout title="Feather Dusters | Noureddine Feathers">
  <Nav {...navProps} client:load />
  <div class="mx-8">
    <div class="flex flex-col gap-8">
      <ProductDetails product={featherDuster} client:load />
    </div>
  </div>
  <Footer />
</Layout>